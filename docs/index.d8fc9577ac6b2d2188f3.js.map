{"version":3,"sources":["webpack://fisheye/./assets/js/classes.js","webpack://fisheye/./src/index.js","webpack://fisheye/./assets/js/helpers.js","webpack://fisheye/webpack/bootstrap","webpack://fisheye/webpack/runtime/make namespace object","webpack://fisheye/webpack/startup"],"names":["CreateComponent","this","tagsComponent","tags","map","tag","join","require","htmlPhotographers","photographersContainer","document","querySelector","tagsContainer","data","uniqueTags","Set","photographers","photographer","add","htmlTags","Array","from","mediaWrapper","innerHTML","displayAllTags","card","id","name","portrait","city","country","tagline","price","tagClick","regex","allTags","querySelectorAll","photographerCards","window","location","search","match","forEach","cardTags","tagsArray","tagName","getAttribute","push","some","element","classList","remove","displayRelatedPhotographers","activeTagClicked","filterWithTag","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","r","Symbol","toStringTag","Object","defineProperty","value"],"mappings":"mxcAKO,IAuCMA,EACX,c,6FAAc,SACZC,KAAKC,cAAgB,SAAUC,GAE7B,GAAIA,EAGF,O,EAF2BA,E,+lBAGxBC,KAAI,SAACC,GACJ,wEAC4CA,EAD5C,oCAC2EA,EAD3E,yEAE0BA,EAF1B,mFAGqDA,EAHrD,wCAODC,KAAK,I,QC5DhBC,EAAQ,KAOR,IAwBQC,EAxBFC,EAAyBC,SAASC,cAAc,yBAChDC,EAAgBF,SAASC,cAAc,kBAO7C,SAAwBE,GACtB,IAAMC,EAAa,IAAIC,IAEvBF,EAAKG,cAAcZ,KAAI,SAACa,GACtBA,EAAad,KAAKC,KAAI,SAACC,GACrBS,EAAWI,IAAIb,SAInB,IAAMc,EAAWC,MAAMC,KAAKP,GACtBQ,GAAe,IAAItB,GAAkBE,cAAciB,GACzDP,EAAcW,UAAYD,EAf5BE,CAAeX,GAoBPL,EAnBaK,EAmBYG,cAC5BZ,KAAI,SAACqB,GACJ,gJAEiFA,EAAKC,GAFtF,yBAEyGD,EAAKE,KAF9G,uFAI6BF,EAAKG,SAJlC,2EAMYH,EAAKE,KANjB,iGAS4BF,EAAKI,KATjC,aAS0CJ,EAAKK,QAT/C,gDAU2BL,EAAKM,QAVhC,8CAWyBN,EAAKO,MAX9B,8FAeQ,IAAIhC,GAAkBE,cAAcuB,EAAKtB,MAfjD,qDAqBDG,KAAK,IAERG,EAAuBc,UAAYf,EAMrC,IAQQyB,ECnE4BC,ED2D9BC,EAAUf,MAAMC,KAAKX,SAAS0B,iBAAiB,UAC/CC,EAAoBjB,MAAMC,KAAKX,SAAS0B,iBAAiB,uBC5D3BF,EDkEjB,eAGA,UAFXD,GClEYK,OAAOC,SAASC,OAASF,OAAOC,SAASC,OAAS,aAC3CC,MAAMP,GAEjB,KDuEhB,SAAuBD,IAMvB,SAAqCA,GACnCI,EAAkBK,SAAQ,SAACjB,GACzB,IAAMkB,EAAWlB,EAAKW,iBAAiB,SACjCQ,EAAY,GAElBD,EAASD,SAAQ,SAACrC,GAChB,IAAMwC,EAAUxC,EAAIyC,aAAa,YACjCF,EAAUG,KAAKF,MAMbD,EAAUI,MAFE,SAACC,GAAD,OAAaA,IAAYhB,KAGvCR,EAAKyB,UAAUC,OAAO,QAEtB1B,EAAKyB,UAAUhC,IAAI,YArBvBkC,CAA4BnB,GA2B9B,SAA0BA,GACxBE,EAAQO,SAAQ,SAACrC,GACMA,EAAIyC,aAAa,cAEjBb,GACnB5B,EAAI6C,UAAUhC,IAAI,aA/BtBmC,CAAiBpB,GAPfqB,CAAcrB,I,uBExEdsB,EAA2B,GAG/B,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAaE,QAGrB,IAAIC,EAASN,EAAyBE,GAAY,CAGjDG,QAAS,IAOV,OAHAE,EAAoBL,GAAUI,EAAQA,EAAOD,QAASJ,GAG/CK,EAAOD,QCpBfJ,EAAoBO,EAAKH,IACH,oBAAXI,QAA0BA,OAAOC,aAC1CC,OAAOC,eAAeP,EAASI,OAAOC,YAAa,CAAEG,MAAO,WAE7DF,OAAOC,eAAeP,EAAS,aAAc,CAAEQ,OAAO,KCF7BZ,EAAoB,M","file":"index.d8fc9577ac6b2d2188f3.js","sourcesContent":["// ******************************* HELPERS ******************************* //\n\n// ------ Classes (Pattern Factory Method) ------\n\n// Media Type\nexport class MediaType {\n  constructor() {\n    this.imageOrVideo = function (media, key) {\n      let mediaWrapper;\n\n      // IMAGE\n      if (media.image) {\n        mediaWrapper = `\n        <a href=\"javascript:void(0);\" class=\"media-link\">\n          <img class=\"source-media\" src=\"./images/${media.image}\" \n          alt=\"${media.description}\" loading=\"lazy\" data-id=\"${media.id}\" data-index=${key} />\n        </a>\n        `;\n        // VIDEO\n      } else if (media.video) {\n        mediaWrapper = `\n        <a href=\"javascript:void(0);\" class=\"media-link\" labelledby=\"video-description\">\n          <video class=\"source-media\" id=\"player\" playsinline data-id=\"${media.id}\" data-index=${key} >\n            <source src=\"./images/${media.video}\" \n            type=\"video/mp4\" />\n          </video>\n          <span id=\"video-description\" class=\"hidden\">Vidéo : ${media.title} : ${media.description}</span>\n        </a>\n        `;\n      } else {\n        // Default placeholder\n        mediaWrapper = `\n        <a href=\"javascript:void(0);\" class=\"media-link\" aria-hidden=\"true\">\n          <img src=\"./images/placeholder.jpg\" alt=\"placeholder\" loading=\"lazy\" />\n        </a>\n        `;\n      }\n\n      return mediaWrapper;\n    };\n  }\n}\n\n// Components Constructor\nexport class CreateComponent {\n  constructor() {\n    this.tagsComponent = function (tags) {\n      // ALL TAGS\n      if (tags) {\n        let allTagsComponent = [...tags];\n\n        return allTagsComponent\n          .map((tag) => {\n            return `\n        <a href=\"/ShayPaulElyReichert_6_27032021/?tag=${tag}\" class=\"tags\" data-tag=\"${tag}\" labelledby=\"tag-name\">\n          <span aria-hidden=true\"> #${tag}</span>\n          <span id=\"tag-name\" class=\"hidden\" aria-label=\"Tag : ${tag}\"></span>\n        </a>\n        `;\n          })\n          .join(\"\");\n      }\n    };\n  }\n}\n","require(\"../assets/stylesheets/main.scss\");\nimport data from \"../data.json\";\nimport { extractValueFromUrl } from \"../assets/js/helpers\";\nimport { CreateComponent } from \"../assets/js/classes\";\n// ******************************* HOMEPAGE DATA ON LOAD ******************************* //\n\n// DOM ELEMENTS\nconst photographersContainer = document.querySelector(\".photographer-wrapper\");\nconst tagsContainer = document.querySelector(\".tags-wrapper\");\n\n// FUNCTIONS\ndisplayAllTags(data);\ndisplayPhotographers(data);\n\n// Display all existing tags in the header\nfunction displayAllTags(data) {\n  const uniqueTags = new Set();\n\n  data.photographers.map((photographer) => {\n    photographer.tags.map((tag) => {\n      uniqueTags.add(tag);\n    });\n  });\n\n  const htmlTags = Array.from(uniqueTags);\n  const mediaWrapper = new CreateComponent().tagsComponent(htmlTags);\n  tagsContainer.innerHTML = mediaWrapper;\n}\n\n// Display all photographer into card component\nfunction displayPhotographers(data) {\n  const htmlPhotographers = data.photographers\n    .map((card) => {\n      return `\n        <div class=\"photographer-card\">\n          <a class=\"link\" href=\"/ShayPaulElyReichert_6_27032021/photographer.html?id=${card.id}\" aria-label=\"${card.name}\">\n            <div class=\"round-image\">\n              <img src=\"./images/${card.portrait}\" alt=\"\" loading=\"lazy\" />\n            </div>\n            <h2>${card.name}</h2>\n          </a>\n          <div class=\"infos\">\n            <p class=\"location\">${card.city}, ${card.country}</p>\n            <p class=\"tagline\">${card.tagline}</p>\n            <p class=\"price\">${card.price}€/jour</p>\n          </div>\n          <div class=\"tags-wrapper\">\n\n            ${new CreateComponent().tagsComponent(card.tags)}\n\n          </div>\n        </div>\n        `;\n    })\n    .join(\"\");\n\n  photographersContainer.innerHTML = htmlPhotographers;\n}\n\n// ******************************* HOMEPAGE EVENTS ******************************* //\n\n// DOM ELEMENTS\nconst allTags = Array.from(document.querySelectorAll(\".tags\"));\nconst photographerCards = Array.from(document.querySelectorAll(\".photographer-card\"));\n\n// FUNCTIONS\nfilterWithTagInit();\n\nfunction filterWithTagInit() {\n  const tagRegex = /(?<=tag=)\\w+/;\n  const tagClick = extractValueFromUrl(tagRegex);\n\n  if (tagClick !== \"none\") {\n    filterWithTag(tagClick);\n  }\n}\n\n// Active the tag clicked\nfunction filterWithTag(tagClick) {\n  displayRelatedPhotographers(tagClick);\n  activeTagClicked(tagClick);\n}\n\n// Compare tag clicked with each photographer's tags\nfunction displayRelatedPhotographers(tagClick) {\n  photographerCards.forEach((card) => {\n    const cardTags = card.querySelectorAll(\".tags\");\n    const tagsArray = [];\n\n    cardTags.forEach((tag) => {\n      const tagName = tag.getAttribute(\"data-tag\");\n      tagsArray.push(tagName);\n    });\n\n    // if one of photographer's tag match, display the photographer card\n    const isMatch = (element) => element === tagClick;\n\n    if (tagsArray.some(isMatch)) {\n      card.classList.remove(\"hide\");\n    } else {\n      card.classList.add(\"hide\");\n    }\n  });\n}\n\n// Add css class to tag clicked\nfunction activeTagClicked(tagClick) {\n  allTags.forEach((tag) => {\n    const tagAttribute = tag.getAttribute(\"data-tag\");\n\n    if (tagAttribute === tagClick) {\n      tag.classList.add(\"active\");\n    }\n  });\n}\n","// ******************************* HELPERS ******************************* //\n\n// ------ Extract some values from a URL ------\nexport function extractValueFromUrl(regex) {\n  const urlSearch = window.location.search ? window.location.search : \"?tag=none\";\n  const result = urlSearch.match(regex);\n\n  return result[0];\n}\n\n// ------ Wait for an element to exist ------\n\n// MIT Licensed\n// Author: jwilson8767\n\n/**\n * @param selector\n * @returns {Promise}\n */\nexport function elementReady(selector) {\n  return new Promise((resolve, reject) => {\n    let el = document.querySelector(selector);\n    if (el) {\n      resolve(el);\n    }\n    new MutationObserver((mutationRecords, observer) => {\n      // Query for elements matching the specified selector\n      Array.from(document.querySelectorAll(selector)).forEach((element) => {\n        resolve(element);\n        //Once we have resolved we don't need the observer anymore.\n        observer.disconnect();\n      });\n    }).observe(document.documentElement, {\n      childList: true,\n      subtree: true,\n    });\n  });\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module and return exports\n// This entry module doesn't tell about it's top-level declarations so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(448);\n"],"sourceRoot":""}